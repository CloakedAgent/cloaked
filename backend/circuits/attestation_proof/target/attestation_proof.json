{"noir_version":"1.0.0-beta.18+99bb8b5cf33d7669adbdef096b12d80f30b4c0c9","hash":"3531210943437933554","abi":{"parameters":[{"name":"nonce","type":{"kind":"field"},"visibility":"private"},{"name":"commitment","type":{"kind":"field"},"visibility":"public"}],"return_type":null,"error_types":{}},"bytecode":"H4sIAAAAAAAA/6VSsQrCMBC92FbqJtLuHXVT/AQRnMTRRURshwwWKaXg2E8Qf8CvEP2cbo4u7iLeYYynpO1bXnjJy7tLTsALNvJmJePn2tF0Ad8gLQAjiBJnP/IadQIbihAg98NpUgyOvfNsfMrz+aI7vE52l+1+VNwPN+CbrpItmGwjI8KqG677TBoPwBxl67Lg/bhl6uI+4t9EtpFDmUTrVGbRUsZZlKQt1F1kX/FZYN4H+b1qfmgymq+s6V7K4YbYFDREDrNH99raWVfjCoMsftXB/VsH2VM0eo8H+Scu2KIEAAA=","debug_symbols":"nVHBCoMwDP2XnHtop87OXxlDqkYplCq1HQzx3xeLOj0Mxi5Jk5f3Ul4maLAKXalt249Q3CeonDZGd6Xpa+V1b6k7zQy2svQOkVpwwIk1KIfWQ2GDMQyeyoQ4NA7KxuyVI5QzQNtQJsFWG1xeM/uw+XeqzOVKllLu9Ez8yhc8zVcBwa/ZXwr7FwS/8ZPCgypVa3dyDThNMhAxXqBIGCQxphTnZZHTqjK4OtwGWx8M969hQ7aTDK6vsQkOlzURo8Vv","file_map":{"51":{"source":"// Attestation Proof Circuit for Cloaked Private Agents\n//\n// This is a simple circuit that attests a commitment was verified.\n// The backend generates this proof ONLY after verifying a valid UltraHonk\n// proof from the browser (where the real secret stays).\n//\n// Flow:\n//   1. Browser: poseidon(agent_secret) == commitment -> UltraHonk proof\n//   2. Backend: verify UltraHonk proof using bb.js\n//   3. Backend: generate this attestation proof (Groth16 for Solana)\n//   4. Solana: verify attestation proof\n//\n// Security: The agent_secret NEVER leaves the browser.\n// The backend only knows the commitment was validly proven.\n\nfn main(\n    // Private input: random nonce (prevents proof replay)\n    nonce: Field,\n\n    // Public input: the commitment that was verified\n    commitment: pub Field\n) {\n    // Constraint: nonce must be non-zero (prevents trivial proofs)\n    assert(nonce != 0);\n\n    // Constraint: bind nonce to commitment (prevents proof replay)\n    // This creates a unique proof for each (nonce, commitment) pair\n    let binding = nonce * commitment;\n    assert(binding != 0);\n\n    // The real verification happened in UltraHonk on the backend\n    // This Groth16 proof just attests that verification occurred\n}\n\n#[test]\nfn test_attestation() {\n    let nonce = 12345;\n    let commitment = 0x26ef6dd4cf0be9cb745e6a20d05e54766bcf592a4c963e76337cc9c0250c2855;\n    main(nonce, commitment);\n}\n","path":"/home/arvacode/cloak/circuits/attestation_proof/src/main.nr"}},"expression_width":{"Bounded":{"width":4}}}